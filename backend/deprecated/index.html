<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-signin-client_id" content="929847184367-lf702ndkmceq2r6efkp8a1fbp544udhu.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>Document</title>
</head>
<body>
<h1>Test registro</h1>
<div class="g-signin2" data-onsuccess="onSignIn"></div>
<a href="#" onclick="signOut();">Sign out</a>
    
<script>
    'use strict'

    function onSignIn(googleUser) {
        var googleId = googleUser.getBasicProfile().getId();
        console.log('Login realizado con Google, Id:', googleId);
        let newUser = {
            IdGoogle: googleId
        }

        $.post('http://127.0.0.1:8887/sendGoogleId', newUser,function(){
            console.log('la funciÃ³n se ha ejecutado');
        });
    }
    
    function signOut() {
        var auth2 = gapi.auth2.getAuthInstance();
        auth2.signOut().then(function () {
        console.log('User signed out.');
        });
    }
            // const data = [
            //     {Nombre:"Alberto", Skills:"javascript, html, css", Language:"castellano, ingles, chino", Edad:"43"}, 
            //     {Nombre:"Josefina", Skills:"html, php, java", Language:"castellano, catalan", Edad:"58"}, 
            //     {Nombre:"Genaro", Skills:"css, ayax, javascript", Language:"castellano, ingles, italiano", Edad:"51"},
            //     {Nombre:"Eustaquio", Skills:"php, javascript, python", Language:"castellano, frances", Edad:"47"},   
            //     {Nombre:"Vicentino", Skills:"ayax, html, laravel", Language:"castellano, ingles, aleman", Edad:"53"}, 
            //     {Nombre:"Asuncion", Skills:"python, mongodb, css", Language:"castellano, portugues, ingles", Edad:"47"},
            //     {Nombre:"Filiberto", Skills:"laravel,mongodb, java", Language:"castellano, griego, frances",Edad:"45"}
                
            //     ]; 

            //     document.querySelector("#botonBusqueda").addEventListener("click", buscar)

            //     function buscar(){
                    
            //         let valorBusqueda = document.querySelector("#cajaBusqueda").value;
            //         let objBusqueda = new RegExp(valorBusqueda,"i");
            //         let results = [];
            //         data.forEach((e) => {
            //         if (objBusqueda.test(e.Skills) || objBusqueda.test(e.Language) || objBusqueda.test(e.Edad)) results.push(e)
                    
            //         });

            //         console.log(results);
            //     };


</script>
</body>
</html>